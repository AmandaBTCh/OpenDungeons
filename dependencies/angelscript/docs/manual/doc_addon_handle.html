<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>AngelScript: ref object</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.9 -->
<div class="contents">
<h1><a class="anchor" name="doc_addon_handle">ref object </a></h1><b>Path:</b> /sdk/add_on/scripthandle/<p>
The <code>ref</code> type is a generic container that can hold any handle. It is a value type, but behaves very much like an object handle.<p>
The type is registered with <code>RegisterScriptHandle(asIScriptEngine*)</code>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="doc_adv_generic_handle.html">Registering a generic handle type</a></dd></dl>
<h2><a class="anchor" name="doc_addon_handle_1">
Public C++ interface</a></h2>
<div class="fragment"><pre class="fragment"><span class="keyword">class </span>CScriptHandle 
{
<span class="keyword">public</span>:
  <span class="comment">// Constructors</span>
  CScriptHandle();
  CScriptHandle(<span class="keyword">const</span> CScriptHandle &amp;other);
  CScriptHandle(<span class="keywordtype">void</span> *ref, <span class="keywordtype">int</span> typeId);
  ~CScriptHandle();

  <span class="comment">// Copy the stored reference from another handle object</span>
  CScriptHandle &amp;operator=(<span class="keyword">const</span> CScriptHandle &amp;other);
  CScriptHandle &amp;opAssign(<span class="keywordtype">void</span> *ref, <span class="keywordtype">int</span> typeId);

  <span class="comment">// Compare equalness</span>
  <span class="keywordtype">bool</span> opEquals(<span class="keyword">const</span> CScriptHandle &amp;o) <span class="keyword">const</span>;
  <span class="keywordtype">bool</span> opEquals(<span class="keywordtype">void</span> *ref, <span class="keywordtype">int</span> typeId) <span class="keyword">const</span>;

  <span class="comment">// Dynamic cast to desired handle type</span>
  <span class="keywordtype">void</span> opCast(<span class="keywordtype">void</span> **outRef, <span class="keywordtype">int</span> typeId);
};
</pre></div><h2><a class="anchor" name="doc_addon_handle_3">
Example usage</a></h2>
In the scripts it can be used as follows:<p>
<pre>
  ref@ unknown;</pre><p>
<pre>  // Store a handle in the ref variable
  object obj;
  @unknown = @obj;</pre><p>
<pre>  // Compare equalness
  if( unknown != null ) 
  {
    // Dynamically cast the handle to wanted type
    object @obj2 = cast&lt;object&gt;(unknown);
    if( obj2 != null )
    {
      ...
    }
  }
</pre> </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sun Aug 21 13:13:47 2011 for AngelScript by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.9 </small></address>
</body>
</html>
